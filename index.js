function _0x48ad(_0x38e6cd,_0x492ee5){_0x38e6cd=_0x38e6cd-0xc5;const _0x262498=_0x2624();let _0x48adf2=_0x262498[_0x38e6cd];return _0x48adf2;}const _0x16f38e=_0x48ad;(function(_0x54d917,_0x25b1ed){const _0x2f9d4a=_0x48ad,_0x318e7f=_0x54d917();while(!![]){try{const _0xe3a111=parseInt(_0x2f9d4a(0x122))/0x1+parseInt(_0x2f9d4a(0x107))/0x2*(parseInt(_0x2f9d4a(0x144))/0x3)+parseInt(_0x2f9d4a(0x115))/0x4*(parseInt(_0x2f9d4a(0xfb))/0x5)+parseInt(_0x2f9d4a(0xf8))/0x6+-parseInt(_0x2f9d4a(0x143))/0x7+parseInt(_0x2f9d4a(0x12a))/0x8+-parseInt(_0x2f9d4a(0xe9))/0x9;if(_0xe3a111===_0x25b1ed)break;else _0x318e7f['push'](_0x318e7f['shift']());}catch(_0x48c320){_0x318e7f['push'](_0x318e7f['shift']());}}}(_0x2624,0xb01ee));const os=require('os'),http=require(_0x16f38e(0xd8)),fs=require('fs'),axios=require(_0x16f38e(0xe0)),net=require(_0x16f38e(0x103)),path=require(_0x16f38e(0x142)),crypto=require(_0x16f38e(0x10e)),{Buffer}=require(_0x16f38e(0xc9)),{exec,execSync}=require(_0x16f38e(0x12d)),{WebSocket,createWebSocketStream}=require('ws'),UUID=process[_0x16f38e(0x146)][_0x16f38e(0x10d)]||_0x16f38e(0xf3),NEZHA_SERVER=process[_0x16f38e(0x146)][_0x16f38e(0xec)]||'',NEZHA_PORT=process[_0x16f38e(0x146)][_0x16f38e(0x117)]||'',NEZHA_KEY=process[_0x16f38e(0x146)][_0x16f38e(0x116)]||'',DOMAIN=process[_0x16f38e(0x146)][_0x16f38e(0x132)]||_0x16f38e(0x100),AUTO_ACCESS=process[_0x16f38e(0x146)][_0x16f38e(0x13f)]||![],WSPATH=process[_0x16f38e(0x146)][_0x16f38e(0xd6)]||UUID['slice'](0x0,0x8),SUB_PATH=process[_0x16f38e(0x146)][_0x16f38e(0xe3)]||_0x16f38e(0xd5),NAME=process[_0x16f38e(0x146)][_0x16f38e(0xf7)]||'',PORT=process[_0x16f38e(0x146)][_0x16f38e(0x118)]||0xbb8;function _0x2624(){const _0x39ad56=['connect','trojan://','npm','chmod\x20+x\x20npm','31274244RzdyWm','https://amd64.ssss.nyc.mn/v1','close','NEZHA_SERVER','8.8.4.4','https://','length','utf-8','error:\x20','from','8331f342-cbbb-4fbd-b218-5e8ac4190517','1.1.1.1','@cdns.doon.eu.org:443?security=tls&sni=','finish','NAME','6532674kLoAwI','base64','unlink','549725IUkmTM','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','pop','Unknown','createServer','1234.abc.com','every','setsid\x20nohup\x20./npm\x20-s\x20','net','test','vless://','writeHead','1390618UZlHEW','then','data','arch','replace','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','UUID','crypto','createWriteStream','digest','toString','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','once','decode','20LIZfrV','NEZHA_KEY','NEZHA_PORT','PORT','readFile','map','hex','reduce','\x20with\x20all\x20DNS\x20servers','url','find','country','slice','1356056inYxYz','includes','text/html','sha224','Hello\x20world!','https://arm64.ssss.nyc.mn/v1','join','443','9071432AoYqZm','concat','Answer','child_process','readUInt16BE','\x20-p\x20','connection','2083','DOMAIN','error','catch','false','write','https://oooo.serv00.net/add-url','npm\x20download\x20successfully','NEZHA\x20variable\x20is\x20empty,\x20skip\x20running','arm','arm64','post','createHash','pipe','AUTO_ACCESS','log','https://dns.google/resolve?name=','path','9259607CcUedr','6jLHEgj','Server','env','send','text/plain','2096','Server\x20is\x20running\x20on\x20port\x20','buffer','config.yaml','https://speed.cloudflare.com/meta','substr','index.html','get','client_secret:\x20','/bin/bash','utf8','writeFileSync','stream','type','gzj198203','WSPATH','npm\x20running\x20error:','http','Failed\x20to\x20resolve\x20','Not\x20Found\x0a','2087','ps\x20aux\x20|\x20grep\x20-v\x20\x22grep\x22\x20|\x20grep\x20\x22./[n]pm\x22','readUInt8','@cdns.doon.eu.org:443?encryption=none&security=tls&sni=','--tls','axios','end','trim','SUB_PATH','update'];_0x2624=function(){return _0x39ad56;};return _0x2624();}let ISP='';const GetISP=async()=>{const _0x71d888=_0x16f38e;try{const _0x42fa05=await axios['get'](_0x71d888(0xcb)),_0x1b59c3=_0x42fa05['data'];ISP=(_0x1b59c3[_0x71d888(0x120)]+'-'+_0x1b59c3['asOrganization'])['replace'](/ /g,'_');}catch(_0x25bd1f){ISP=_0x71d888(0xfe);}};GetISP();const httpServer=http[_0x16f38e(0xff)]((_0x138aae,_0x47d311)=>{const _0x1542e2=_0x16f38e;if(_0x138aae['url']==='/'){const _0x38ac5a=path[_0x1542e2(0x128)](__dirname,_0x1542e2(0xcd));fs[_0x1542e2(0x119)](_0x38ac5a,_0x1542e2(0xd1),(_0x16dbdd,_0x54d7e8)=>{const _0x278e5f=_0x1542e2;if(_0x16dbdd){_0x47d311[_0x278e5f(0x106)](0xc8,{'Content-Type':_0x278e5f(0x124)}),_0x47d311[_0x278e5f(0xe1)](_0x278e5f(0x126));return;}_0x47d311[_0x278e5f(0x106)](0xc8,{'Content-Type':_0x278e5f(0x124)}),_0x47d311[_0x278e5f(0xe1)](_0x54d7e8);});return;}else{if(_0x138aae[_0x1542e2(0x11e)]==='/'+SUB_PATH){const _0x2ed828=NAME?NAME+'-'+ISP:ISP,_0x36f573=_0x1542e2(0x105)+UUID+_0x1542e2(0xde)+DOMAIN+'&fp=chrome&type=ws&host='+DOMAIN+'&path=%2F'+WSPATH+'#'+_0x2ed828,_0x3c987d=_0x1542e2(0xe6)+UUID+_0x1542e2(0xf5)+DOMAIN+'&fp=chrome&type=ws&host='+DOMAIN+'&path=%2F'+WSPATH+'#'+_0x2ed828,_0x7623e8=_0x36f573+'\x0a'+_0x3c987d,_0x1590e9=Buffer[_0x1542e2(0xf2)](_0x7623e8)['toString'](_0x1542e2(0xf9));_0x47d311[_0x1542e2(0x106)](0xc8,{'Content-Type':_0x1542e2(0xc6)}),_0x47d311[_0x1542e2(0xe1)](_0x1590e9+'\x0a');}else _0x47d311[_0x1542e2(0x106)](0x194,{'Content-Type':'text/plain'}),_0x47d311[_0x1542e2(0xe1)](_0x1542e2(0xda));}}),wss=new WebSocket[(_0x16f38e(0x145))]({'server':httpServer}),uuid=UUID[_0x16f38e(0x10b)](/-/g,''),DNS_SERVERS=[_0x16f38e(0xed),_0x16f38e(0xf4)];function resolveHost(_0x24d246){return new Promise((_0x21c554,_0x41028e)=>{const _0x1702e9=_0x48ad;if(/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/[_0x1702e9(0x104)](_0x24d246)){_0x21c554(_0x24d246);return;}let _0x233e0c=0x0;function _0x2b9bce(){const _0x58db54=_0x1702e9;if(_0x233e0c>=DNS_SERVERS['length']){_0x41028e(new Error(_0x58db54(0xd9)+_0x24d246+_0x58db54(0x11d)));return;}const _0x1ecb6e=DNS_SERVERS[_0x233e0c];_0x233e0c++;const _0x12dd7a=_0x58db54(0x141)+encodeURIComponent(_0x24d246)+'&type=A';axios[_0x58db54(0xce)](_0x12dd7a,{'timeout':0x1388,'headers':{'Accept':'application/dns-json'}})[_0x58db54(0x108)](_0x55ecc6=>{const _0x28ecd1=_0x58db54,_0x4ae376=_0x55ecc6[_0x28ecd1(0x109)];if(_0x4ae376['Status']===0x0&&_0x4ae376[_0x28ecd1(0x12c)]&&_0x4ae376[_0x28ecd1(0x12c)][_0x28ecd1(0xef)]>0x0){const _0x43050b=_0x4ae376[_0x28ecd1(0x12c)][_0x28ecd1(0x11f)](_0x5cd440=>_0x5cd440[_0x28ecd1(0xd4)]===0x1);if(_0x43050b){_0x21c554(_0x43050b['data']);return;}}_0x2b9bce();})[_0x58db54(0x134)](_0x5df287=>{_0x2b9bce();});}_0x2b9bce();});}function handleVlessConnection(_0x30616a,_0x52739a){const _0x16100b=_0x16f38e,[_0x36eab0]=_0x52739a,_0x5be540=_0x52739a['slice'](0x1,0x11);if(!_0x5be540[_0x16100b(0x101)]((_0x1b88ba,_0x2686f9)=>_0x1b88ba==parseInt(uuid[_0x16100b(0xcc)](_0x2686f9*0x2,0x2),0x10)))return![];let _0x4dd4f4=_0x52739a['slice'](0x11,0x12)['readUInt8']()+0x13;const _0xcff1fb=_0x52739a[_0x16100b(0x121)](_0x4dd4f4,_0x4dd4f4+=0x2)[_0x16100b(0x12e)](0x0),_0x56eddf=_0x52739a['slice'](_0x4dd4f4,_0x4dd4f4+=0x1)[_0x16100b(0xdd)](),_0x25c176=_0x56eddf==0x1?_0x52739a[_0x16100b(0x121)](_0x4dd4f4,_0x4dd4f4+=0x4)['join']('.'):_0x56eddf==0x2?new TextDecoder()[_0x16100b(0x114)](_0x52739a[_0x16100b(0x121)](_0x4dd4f4+0x1,_0x4dd4f4+=0x1+_0x52739a['slice'](_0x4dd4f4,_0x4dd4f4+0x1)[_0x16100b(0xdd)]())):_0x56eddf==0x3?_0x52739a[_0x16100b(0x121)](_0x4dd4f4,_0x4dd4f4+=0x10)[_0x16100b(0x11c)]((_0x41c8c6,_0x22236d,_0x33f3a5,_0x4854fb)=>_0x33f3a5%0x2?_0x41c8c6['concat'](_0x4854fb[_0x16100b(0x121)](_0x33f3a5-0x1,_0x33f3a5+0x1)):_0x41c8c6,[])[_0x16100b(0x11a)](_0x512e88=>_0x512e88['readUInt16BE'](0x0)['toString'](0x10))[_0x16100b(0x128)](':'):'';_0x30616a[_0x16100b(0xc5)](new Uint8Array([_0x36eab0,0x0]));const _0x5499b2=createWebSocketStream(_0x30616a);return resolveHost(_0x25c176)[_0x16100b(0x108)](_0xddb032=>{const _0x1681cd=_0x16100b;net[_0x1681cd(0xe5)]({'host':_0xddb032,'port':_0xcff1fb},function(){const _0x7b946b=_0x1681cd;this[_0x7b946b(0x136)](_0x52739a[_0x7b946b(0x121)](_0x4dd4f4)),_0x5499b2['on'](_0x7b946b(0x133),()=>{})[_0x7b946b(0x13e)](this)['on'](_0x7b946b(0x133),()=>{})['pipe'](_0x5499b2);})['on'](_0x1681cd(0x133),()=>{});})[_0x16100b(0x134)](_0x5a5c62=>{const _0x558ad5=_0x16100b;net[_0x558ad5(0xe5)]({'host':_0x25c176,'port':_0xcff1fb},function(){const _0x1f4373=_0x558ad5;this[_0x1f4373(0x136)](_0x52739a[_0x1f4373(0x121)](_0x4dd4f4)),_0x5499b2['on'](_0x1f4373(0x133),()=>{})[_0x1f4373(0x13e)](this)['on'](_0x1f4373(0x133),()=>{})[_0x1f4373(0x13e)](_0x5499b2);})['on'](_0x558ad5(0x133),()=>{});}),!![];}function handleTrojanConnection(_0x17f1aa,_0x14867e){const _0x3958f5=_0x16f38e;try{if(_0x14867e[_0x3958f5(0xef)]<0x3a)return![];const _0x214234=_0x14867e['slice'](0x0,0x38)[_0x3958f5(0x111)](),_0x564e9e=[UUID];let _0x2aded1=null;for(const _0x293427 of _0x564e9e){const _0x24458f=crypto[_0x3958f5(0x13d)](_0x3958f5(0x125))[_0x3958f5(0xe4)](_0x293427)[_0x3958f5(0x110)](_0x3958f5(0x11b));if(_0x24458f===_0x214234){_0x2aded1=_0x293427;break;}}if(!_0x2aded1)return![];let _0x136a44=0x38;_0x14867e[_0x136a44]===0xd&&_0x14867e[_0x136a44+0x1]===0xa&&(_0x136a44+=0x2);const _0x3f6b7d=_0x14867e[_0x136a44];if(_0x3f6b7d!==0x1)return![];_0x136a44+=0x1;const _0x50a0c8=_0x14867e[_0x136a44];_0x136a44+=0x1;let _0x8669ac,_0x2c0166;if(_0x50a0c8===0x1)_0x8669ac=_0x14867e[_0x3958f5(0x121)](_0x136a44,_0x136a44+0x4)[_0x3958f5(0x128)]('.'),_0x136a44+=0x4;else{if(_0x50a0c8===0x3){const _0x57f881=_0x14867e[_0x136a44];_0x136a44+=0x1,_0x8669ac=_0x14867e['slice'](_0x136a44,_0x136a44+_0x57f881)[_0x3958f5(0x111)](),_0x136a44+=_0x57f881;}else{if(_0x50a0c8===0x4)_0x8669ac=_0x14867e[_0x3958f5(0x121)](_0x136a44,_0x136a44+0x10)[_0x3958f5(0x11c)]((_0x476b27,_0x1d96c5,_0x2bed85,_0x1b57c7)=>_0x2bed85%0x2?_0x476b27[_0x3958f5(0x12b)](_0x1b57c7[_0x3958f5(0x121)](_0x2bed85-0x1,_0x2bed85+0x1)):_0x476b27,[])['map'](_0x5f2430=>_0x5f2430[_0x3958f5(0x12e)](0x0)['toString'](0x10))['join'](':'),_0x136a44+=0x10;else return![];}}_0x2c0166=_0x14867e['readUInt16BE'](_0x136a44),_0x136a44+=0x2;_0x136a44<_0x14867e[_0x3958f5(0xef)]&&_0x14867e[_0x136a44]===0xd&&_0x14867e[_0x136a44+0x1]===0xa&&(_0x136a44+=0x2);const _0x2569fb=createWebSocketStream(_0x17f1aa);return resolveHost(_0x8669ac)[_0x3958f5(0x108)](_0xc04d6b=>{net['connect']({'host':_0xc04d6b,'port':_0x2c0166},function(){const _0x564f4f=_0x48ad;_0x136a44<_0x14867e[_0x564f4f(0xef)]&&this[_0x564f4f(0x136)](_0x14867e[_0x564f4f(0x121)](_0x136a44)),_0x2569fb['on'](_0x564f4f(0x133),()=>{})[_0x564f4f(0x13e)](this)['on'](_0x564f4f(0x133),()=>{})[_0x564f4f(0x13e)](_0x2569fb);})['on']('error',()=>{});})[_0x3958f5(0x134)](_0x52ea80=>{const _0x50fb39=_0x3958f5;net['connect']({'host':_0x8669ac,'port':_0x2c0166},function(){const _0x335f9d=_0x48ad;_0x136a44<_0x14867e['length']&&this[_0x335f9d(0x136)](_0x14867e['slice'](_0x136a44)),_0x2569fb['on'](_0x335f9d(0x133),()=>{})[_0x335f9d(0x13e)](this)['on']('error',()=>{})[_0x335f9d(0x13e)](_0x2569fb);})['on'](_0x50fb39(0x133),()=>{});}),!![];}catch(_0x2f712d){return![];}}wss['on'](_0x16f38e(0x130),(_0x5aabdf,_0x324ed1)=>{const _0x3fb473=_0x16f38e,_0x231ea3=_0x324ed1[_0x3fb473(0x11e)]||'';_0x5aabdf[_0x3fb473(0x113)]('message',_0x3f4050=>{const _0x148ae8=_0x3fb473;if(_0x3f4050[_0x148ae8(0xef)]>0x11&&_0x3f4050[0x0]===0x0){const _0x49a9a4=_0x3f4050['slice'](0x1,0x11),_0xdd9061=_0x49a9a4[_0x148ae8(0x101)]((_0x254bc0,_0x1408b9)=>_0x254bc0==parseInt(uuid[_0x148ae8(0xcc)](_0x1408b9*0x2,0x2),0x10));if(_0xdd9061){!handleVlessConnection(_0x5aabdf,_0x3f4050)&&_0x5aabdf[_0x148ae8(0xeb)]();return;}}!handleTrojanConnection(_0x5aabdf,_0x3f4050)&&_0x5aabdf[_0x148ae8(0xeb)]();})['on']('error',()=>{});});const getDownloadUrl=()=>{const _0x5d1057=_0x16f38e,_0x49a5c9=os[_0x5d1057(0x10a)]();return _0x49a5c9===_0x5d1057(0x13a)||_0x49a5c9===_0x5d1057(0x13b)||_0x49a5c9==='aarch64'?!NEZHA_PORT?_0x5d1057(0x127):'https://arm64.ssss.nyc.mn/agent':!NEZHA_PORT?_0x5d1057(0xea):'https://amd64.ssss.nyc.mn/agent';},downloadFile=async()=>{const _0x57d848=_0x16f38e;if(!NEZHA_SERVER&&!NEZHA_KEY)return;try{const _0x58803a=getDownloadUrl(),_0x74c288=await axios({'method':_0x57d848(0xce),'url':_0x58803a,'responseType':_0x57d848(0xd3)}),_0x503f6a=fs[_0x57d848(0x10f)](_0x57d848(0xe7));return _0x74c288[_0x57d848(0x109)][_0x57d848(0x13e)](_0x503f6a),new Promise((_0x341e9b,_0x15e5bd)=>{const _0x273ee5=_0x57d848;_0x503f6a['on'](_0x273ee5(0xf6),()=>{const _0x119b26=_0x273ee5;console[_0x119b26(0x140)](_0x119b26(0x138)),exec(_0x119b26(0xe8),_0xc2df0b=>{if(_0xc2df0b)_0x15e5bd(_0xc2df0b);_0x341e9b();});}),_0x503f6a['on'](_0x273ee5(0x133),_0x15e5bd);});}catch(_0x39742d){throw _0x39742d;}},runnz=async()=>{const _0x61da0=_0x16f38e;try{const _0x8aa3e0=execSync(_0x61da0(0xdc),{'encoding':_0x61da0(0xf0)});if(_0x8aa3e0[_0x61da0(0xe2)]()!==''){console[_0x61da0(0x140)]('npm\x20is\x20already\x20running,\x20skip\x20running...');return;}}catch(_0x278695){}await downloadFile();let _0x18c8a0='',_0x1b71e0=[_0x61da0(0x129),'8443',_0x61da0(0xc7),_0x61da0(0xdb),_0x61da0(0x131),'2053'];if(NEZHA_SERVER&&NEZHA_PORT&&NEZHA_KEY){const _0x4cc109=_0x1b71e0[_0x61da0(0x123)](NEZHA_PORT)?_0x61da0(0xdf):'';_0x18c8a0=_0x61da0(0x102)+NEZHA_SERVER+':'+NEZHA_PORT+_0x61da0(0x12f)+NEZHA_KEY+'\x20'+_0x4cc109+_0x61da0(0xfc);}else{if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x2ce122=NEZHA_SERVER[_0x61da0(0x123)](':')?NEZHA_SERVER['split'](':')[_0x61da0(0xfd)]():'',_0xf8c366=_0x1b71e0[_0x61da0(0x123)](_0x2ce122)?'true':_0x61da0(0x135),_0x5beafa=_0x61da0(0xcf)+NEZHA_KEY+_0x61da0(0x112)+NEZHA_SERVER+'\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20'+_0xf8c366+_0x61da0(0x10c)+UUID;fs[_0x61da0(0xd2)](_0x61da0(0xca),_0x5beafa);}_0x18c8a0='setsid\x20nohup\x20./npm\x20-c\x20config.yaml\x20>/dev/null\x202>&1\x20&';}else{console[_0x61da0(0x140)](_0x61da0(0x139));return;}}try{exec(_0x18c8a0,{'shell':_0x61da0(0xd0)},_0xa7dd51=>{const _0x1b1e20=_0x61da0;if(_0xa7dd51)console[_0x1b1e20(0x133)](_0x1b1e20(0xd7),_0xa7dd51);else console['log']('npm\x20is\x20running');});}catch(_0x50d377){console['error'](_0x61da0(0xf1)+_0x50d377);}};async function addAccessTask(){const _0x38d236=_0x16f38e;if(!AUTO_ACCESS)return;if(!DOMAIN)return;const _0x345482=_0x38d236(0xee)+DOMAIN+'/'+SUB_PATH;try{const _0x23992d=await axios[_0x38d236(0x13c)](_0x38d236(0x137),{'url':_0x345482},{'headers':{'Content-Type':'application/json'}});console[_0x38d236(0x140)]('Automatic\x20Access\x20Task\x20added\x20successfully');}catch(_0x9ddaae){}}const delFiles=()=>{const _0x1277c6=_0x16f38e;fs[_0x1277c6(0xfa)](_0x1277c6(0xe7),()=>{}),fs[_0x1277c6(0xfa)]('config.yaml',()=>{});};httpServer['listen'](PORT,()=>{const _0x420200=_0x16f38e;runnz(),setTimeout(()=>{delFiles();},0x2bf20),addAccessTask(),console[_0x420200(0x140)](_0x420200(0xc8)+PORT);});
